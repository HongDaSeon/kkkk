<HTML>
<HEAD>

	<style type="text/css">
	/* CSS for the demo. CSS needed for the scripts are loaded dynamically by the scripts */
	
	#mainContainer{
		width:1100px;
		margin:0 auto;
		margin-top:10px;
		border:1px solid #000;
		padding:2px;
	}
	
	#capitals{
		width:1100px;
		float:left;
		border:1px solid #000;
		background-color:#E2EBED;
		padding:3px;
		height:200px;
	}
	#countries{
		width:1100px;
		float:left;
		margin:2px;
		height:500px;
	}	
	.dragableBox,.dragableBoxRight{
		width:150px;
		height:50px;
		border:1px solid #000;
		background-color:#FFF;		
		margin-bottom:5px;
		float:left;
		padding:10px;
		font-weight:bold;
		text-align:center;
	}
	div.dragableBoxRight{
		height:250px;
		width:200px;
		float:right;
		margin-right:5px;
		padding:5px;
		background-color:#E2EBED;
	}
	.dropBox{
		width:190px;
		border:1px solid #000;
		background-color:#E2EBED;
		height:400px;
		margin-bottom:10px;
		padding:3px;
    overflow:auto;
	}		
	a{
		color:#F00;
	}
		
	.clear{
		clear:both;
	}
	img{
		border:0px;
	}	
	</style>	
	<script type="text/javascript" src="js/drag-drop-custom.js"></script>
</head>

<body>	
	<div id="mainContainer">
		<h2>Retrouve ton prof !</h2>
		<div class="konaBody">
      Tu connais tes profs depuis 2ans? Serais-tu capable de les retrouver lorsqu'il avait 5ans?		
</div>
		<div id="countries">
			<div id="box106" class="dragableBoxRight"><img src='img/prof/F.jpg' alt='dsl ca foire' width='200' height='200'/></div>
			<div id="box107" class="dragableBoxRight"><img src='img/prof/G.jpg' alt='dsl ca foire'width='200' height='200'/></div>
			<div id="box101" class="dragableBoxRight"><img src='img/prof/A.jpg' alt='dsl ca foire'width='200' height='200'/></div>
			<div id="box108" class="dragableBoxRight"><img src='img/prof/H.jpg' alt='dsl ca foire'width='200' height='200'/></div>
			<div id="box104" class="dragableBoxRight"><img src='img/prof/D.jpg' alt='dsl ca foire'width='200' height='200'/></div>
			<div id="box105" class="dragableBoxRight"><img src='img/prof/E.jpg' alt='dsl ca foire'width='200' height='200'/></div>
			<div id="box102" class="dragableBoxRight"><img src='img/prof/B.jpg' alt='dsl ca foire'width='200' height='200'/></div>
			<div id="box109" class="dragableBoxRight"><img src='img/prof/I.jpg' alt='dsl ca foire'width='200' height='200'/></div>
			<div id="box103" class="dragableBoxRight"><img src='img/prof/C.jpg' alt='dsl ca foire'width='200' height='200'/></div>
		</div>
				<div id="capitals">
			<p>Les noms des profs</p>
			<div id="dropContent">
				<div class="dragableBox" id="box1">Anne Foutrier</div>
				<div class="dragableBox" id="box2">Anne-Flore</div>
				<div class="dragableBox" id="box3">Guy Doriot</div>
				<div class="dragableBox" id="box4">Guy Almouzni</div>
				<div class="dragableBox" id="box5">Monique Sergent</div>
				<div class="dragableBox" id="box6">?</div>
				<div class="dragableBox" id="box7">Nga Nguyen</div>
				<div class="dragableBox" id="box8">Michelle Majdoub </div>
				<div class="dragableBox" id="box9">Valery Frémaux</div>
			</div>
		</div>

		<div class="clear"></div>
		<div class="konaBody"></div>
</div>

<div id="debug"></div>

<script type="text/javascript">

// Custom drop action for the country boxes
function dropItems(idOfDraggedItem,targetId,x,y)
{
	var targetObj = document.getElementById(targetId);	// Creating reference to target obj
	var subDivs = targetObj.getElementsByTagName('DIV');	// Number of subdivs
	if(subDivs.length>0 && targetId!='capitals')return;	// Sub divs exists on target, i.e. element already dragged on it. => return from function without doing anything
	var sourceObj = document.getElementById(idOfDraggedItem);	// Creating reference to source, i.e. dragged object
	var numericIdTarget = targetId.replace(/[^0-9]/gi,'')/1;	// Find numeric id of target
	var numericIdSource = idOfDraggedItem.replace(/[^0-9]/gi,'')/1;	// Find numeric id of source
	if(numericIdTarget-numericIdSource==100){	// In the html above, there's a difference in 100 between the id of the country and it's capital(example:
												// Oslo have id "box1" and Norway have id "box101", i.e. 1 + 100.
		sourceObj.style.backgroundColor='#0F0';	// Set green background color for dragged object
	}else{
		sourceObj.style.backgroundColor='';	// Reset back to default white background color
	}
	if(targetId=='capitals'){	// Target is the capital box - append the dragged item as child of first sub div, i.e. as child of <div id="dropContent">
		targetObj = targetObj.getElementsByTagName('DIV')[0];	
	}
	targetObj.appendChild(sourceObj);	// Append	
}



var dragDropObj = new DHTMLgoodies_dragDrop();	// Creating drag and drop object

// Assigning drag events to the capitals
dragDropObj.addSource('box1',true);	// Make <div id="box1"> dragable. slide item back into original position after drop
dragDropObj.addSource('box2',true);	// Make <div id="box2"> dragable. slide item back into original position after drop
dragDropObj.addSource('box3',true);	// Make <div id="box3"> dragable. slide item back into original position after drop
dragDropObj.addSource('box4',true);	// Make <div id="box4"> dragable. slide item back into original position after drop
dragDropObj.addSource('box5',true);	// Make <div id="box4"> dragable. slide item back into original position after drop
dragDropObj.addSource('box6',true);	// Make <div id="box4"> dragable. slide item back into original position after drop
dragDropObj.addSource('box7',true);	// Make <div id="box4"> dragable. slide item back into original position after drop
dragDropObj.addSource('box8',true);	// Make <div id="box4"> dragable. slide item back into original position after drop
dragDropObj.addSource('box9',true);	// Make <div id="box4"> dragable. slide item back into original position after drop


// Assigning drop events on the countries
dragDropObj.addTarget('box101','dropItems'); // Set <div id="leftColumn"> as a drop target. Call function dropItems on drop
dragDropObj.addTarget('box102','dropItems'); // Set <div id="leftColumn"> as a drop target. Call function dropItems on drop
dragDropObj.addTarget('box103','dropItems'); // Set <div id="leftColumn"> as a drop target. Call function dropItems on drop
dragDropObj.addTarget('box104','dropItems'); // Set <div id="leftColumn"> as a drop target. Call function dropItems on drop
dragDropObj.addTarget('box105','dropItems'); // Set <div id="leftColumn"> as a drop target. Call function dropItems on drop
dragDropObj.addTarget('box106','dropItems'); // Set <div id="leftColumn"> as a drop target. Call function dropItems on drop
dragDropObj.addTarget('box107','dropItems'); // Set <div id="leftColumn"> as a drop target. Call function dropItems on drop
dragDropObj.addTarget('box108','dropItems'); // Set <div id="leftColumn"> as a drop target. Call function dropItems on drop
dragDropObj.addTarget('box109','dropItems'); // Set <div id="leftColumn"> as a drop target. Call function dropItems on drop
dragDropObj.addTarget('capitals','dropItems'); // Set <div id="leftColumn"> as a drop target. Call function dropItems on drop

dragDropObj.init();	// Initizlizing drag and drop object
</script>
</body>
</html>